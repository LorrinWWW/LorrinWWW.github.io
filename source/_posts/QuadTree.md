---
title: 四叉树 QuadTree
date: 2016-12-13 18:45:37
categories: [programming]
tags: [algo, data-structure]
---

在ECP的实验课用到了四叉树，故来记录一下。

四叉树是一种数据结构，每一个节点有四个孩子。一般需要用到四叉树的情况往往是二位平面，通过把区域分成四个区块来定义。

在确定并显示一条曲线的具体位置时，需要使用一种算法。一种比较直观的想法就是，将平面细分成小块，通过计算验证曲线是否在这个小块内部。但是这种算法也有一个十分致命的缺点— 复杂度极高，计算量极大。而事实上，平面上大多数的区域是空白的，我们不需要对其每一个小块进行检测。仿照二分法的思路我们可以按如下方法进行。

```Python
# 确保使用的是等宽字体，用嵌入代码=_=
"""
3-------2       
|       |
|       |
|       |
0-------1
检查曲线是否在内，若是，此节点为枝，分为四个小区域，作为四个儿子；若否，此节点为叶，没有儿子。
=>
3---7---2
|   |   |
8---4---6
|   |   |
0---5---1
以此分别对四个儿子执行以上操作，直到达到所需精度。
=>
...
"""
```

按照这个数据结构，若曲线不在内部，则将节点设为叶，无需继续细分。寻找一个点的话复杂度是O(logn)。



在实验课的内容里，用python进行数据处理，用paraview进行数据可视化。代码其实挺简单（算法就不难= =），实验课还没结束暂时不附代码了，附一个效果图。

![QTree](http://oi4yiqiop.bkt.clouddn.com/QTree.png?imageMogr2/thumbnail/!50p)

